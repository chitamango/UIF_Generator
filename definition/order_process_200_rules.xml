<?xml version="1.0" encoding="UTF-8"?><process xmlns="http://www.swin.edu.au" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="order_process_200_rules" xsi:schemaLocation="http://www.swin.edu.au ACPdefintion.xsd">
	<services>
		<service inputMessage="createOrderRequest" location="http://localhost:8080/axis2/services/createOrderService?wsdl" name="createOrderService" namespace="http://creatOrder.test" operation="createOrder" outputMessage="createOrderResponse" port="createOrderServiceHttpSoap11Endpoint" />
		<service inputMessage="calculateGrandTotalRequest" location="http://localhost:8080/axis2/services/GrandTotalService?wsdl" name="GrandTotalService" namespace="http://GrandTotal.test" operation="calculateGrandTotal" outputMessage="calculateGrandTotalResponse" port="GrandTotalServiceHttpSoap11Endpoint"/> <!-- //input message here should be message type of wsdl -->
		<service inputMessage="submitOrderItemRequest" location="http://localhost:8080/axis2/services/ManufacturingService?wsdl" name="ManufacturingService" namespace="http://manufactoringService.test" operation="submitOrderItem" outputMessage="submitOrderItemResponse" port="ManufacturingServiceHttpSoap11Endpoint" />
		<service inputMessage="confirmOrderItemRequest" location="http://localhost:8080/axis2/services/ManufacturingService?wsdl" name="ManufacturingService" namespace="http://manufactoringService.test" operation="confirmOrderItem" outputMessage="confirmOrderItemResponse" port="ManufacturingServiceHttpSoap11Endpoint" />
	</services>
	<artifacts>
		<artifact name="order">
			<attributes>
				<attribute name="orderId" structure="pair" type="string" unique_id = "yes" /> <!-- pair/list , String/Long../artifact -->
				<attribute name = "orderItem" structure = "pair" type = "String" />
				<attribute name = "quantity" structure = "pair" type = "Integer" />
				<attribute name = "customerAddress" structure = "pair" type = "String" /> 
				<attribute name = "customerName" structure = "pair" type = "string" /> 
				<attribute name = "grand_total" structure = "pair" type = "double" /> 
				<attribute name="order_item_submit_date" structure="pair" type="String" /> 
				<attribute name="order_item_complete_date" structure="pair" type="String" /> 
			</attributes>
			<states>
				<state name="start" type="init"/> <!--  init/end -->
				<state name="open_for_item"/> 
				<state name= "ready_for_payment"/>
				<state name= "payment_confirmed"/>
				<state name= "processing_order_item"/>
				<state name= "order_item_completed" type="end" />
				<state name= "cancelled" type="end" />
			</states>
		</artifact>	
		<artifact name="invoice">
			<attributes>
				<attribute name="invoiceId" structure="pair" type="string" unique_id = "yes" /> <!-- pair/list , String/Long../artifact -->
				<attribute name = "customerName" structure = "pair" type = "string" /> 
				<attribute name = "issue_date" structure = "pair" type = "string" />
				<attribute name = "paid_date" structure = "pair" type = "string" />
				<attribute name = "grand_total" structure = "pair" type = "double" /> 
				<attribute name = "credit_no" structure = "pair" type = "string" />
				<attribute name = "ccv" structure = "pair" type = "string" />
				<attribute name = "credit_status" structure = "pair" type = "string" />
				<attribute name="amount_paid" structure="pair" type="double" /> 
			</attributes>
			<states>
				<state name="start" type="init"/> <!--  init/end -->
				<state name="unpaid"/> 
				<state name= "processing"/>
				<state name="paid" type="end"/>
				<state name= "cancelled" type="end" />
			</states>
		</artifact>
			<artifact name="deliveryNote">
			<attributes>
				<attribute name ="deliveryNoteId" structure ="pair" type ="string" unique_id = "yes" />
				<attribute name = "orderId" structure = "pair" type = "String" />
				<attribute name = "deliveryNote" structure = "pair" type = "Integer" />
				<attribute name = "NoteTransferredDate" structure = "pair" type = "String" /> 
				<attribute name = "NoteReceivedDate" structure = "pair" type = "String" /> 		
			</attributes>
			<states>
				<state name ="start" type ="init"/> <!--  init/end -->
				<state name ="prepared"/> 
				<state name = "transfering"/>
				<state name ="dispatched" type ="end"/>	
			</states>
		</artifact>		
	</artifacts>
<!-- rule have to change don't forget to change drool file -->
	<businessRules>
		<rule name="r01-createOrder">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="start"/>
					<atom attribute = "cust_name" type="input" op = "!=" value="null"/>
					<atom attribute = "cust_address" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="start" toState="open_for_item"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r02-addOrderItem">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="open_for_item"/>
					<atom attribute = "item" type="input" op = "!=" value="null"/>
					<atom attribute = "quantity" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do>
				<invoke operation="calculateGrandTotal" service="GrandTotalService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "addItemRequest"  part="item"/> 
								<to message = "calculateGrandTotalRequest" part = "Item"/>
							</copy>
							<copy>
								<from Message = "addItemRequest"  part="quantity"/> 
								<to message = "calculateGrandTotalRequest" part = "Quantity"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "calculateGrandTotalResponse" part = "item"/>
								<to artifact = "order" attribute ="orderItem"/> 							
							</copy>
							<copy>
								<from message = "calculateGrandTotalResponse" part = "quantity"/>
								<to artifact = "order" attribute ="quantity"/> 							
							</copy>
							<copy>
								<from message = "calculateGrandTotalResponse" part = "grandTotal"/>
								<to artifact = "order" attribute ="grand_total"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="open_for_item" toState="ready_for_payment"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		
		<rule name="r04-confirmOrderItem">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="processing_order_item"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="processing_order_item" toState="order_item_completed"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r05-cancelOrder">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="ready_for_payment" toState="cancelled"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r06-createPayment">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>
					<atom attribute = "total_price" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="start" toState="unpaid"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r07-makePayment">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment"/>
					<atom artifact = "invoice" type="state" value="unpaid"/>
					<atom attribute = "invoice_id" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
						</map>	
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="unpaid" toState="paid"/> 
						<transition artifact="order" fromState="ready_for_payment" toState="payment_confirmed"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r03-submitOrderItem">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "invoice" type="state" value="paid"/>
					<atom artifact = "order" type="state" value="payment_confirmed"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do>
				<invoke operation="submitOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "confirmPaymentRequest"  part="orderId"/> 
								<to message = "submitOrderItemRequest" part = "OrderId"/>
							</copy>
						</map>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderItem"/> 
								<to message = "submitOrderItemRequest" part = "OrderItem"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "submitDate"/>
								<to artifact = "order" attribute ="order_item_submit_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="processing_order_item" toState="processing_order_item" /> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r08-createDeliverNote">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="order_item_completed"/>
					<atom artifact = "deliveryNote" type="state" value="start"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>	
					<atom attribute = "cust_name" type="input" op = "!=" value="null"/>	
					<atom attribute = "cust_address" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="start" toState="prepared"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r09-cancelCompletedOrder">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="order_item_completed"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="order_item_completed" toState="cancelled"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r10-cancelPayment">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "invoice" type="state" value="unpaid"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="unpaid" toState="cancelled"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r011-transfering">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "deliveryNote" type="state" value="prepared"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="prepared" toState="transfering"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r012-test_state1">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="transfering"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="transfering" toState="test_state1"/>
						<transition artifact="deliveryNote" fromState="transfering" toState="test_state1"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		
		<rule name="r013-test_state2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state1"/>
					<atom artifact = "order" type="state" value="test_state1"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_state1" toState="test_state2"/>
						<transition artifact="order" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact1" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact2" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact3" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact4" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact5" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact6" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact7" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact8" fromState="test_state1" toState="test_state2"/>
						
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r014-test_state3">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state2"/>
					<atom artifact = "order" type="state" value="test_state2"/>
					<atom artifact = "test_artifact1" type="state" value="test_state2"/>
					<atom artifact = "test_artifact2" type="state" value="test_state2"/>
					<atom artifact = "test_artifact3" type="state" value="test_state2"/>
					<atom artifact = "test_artifact4" type="state" value="test_state2"/>
					<atom artifact = "test_artifact5" type="state" value="test_state2"/>
					<atom artifact = "test_artifact6" type="state" value="test_state2"/>
					<atom artifact = "test_artifact7" type="state" value="test_state2"/>
					<atom artifact = "test_artifact8" type="state" value="test_state2"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_state2" toState="test_state3"/> 
						<transition artifact="order" fromState="test_state2" toState="test_state3"/> 
						<transition artifact="test_artifact1" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact2" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact3" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact4" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact5" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact6" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact7" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact8" fromState="test_state2" toState="test_state3"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r015-test_state4">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state3"/>
					<atom artifact = "order" type="state" value="test_state3"/>
					<atom artifact = "test_artifact1" type="state" value="test_state3"/>
					<atom artifact = "test_artifact2" type="state" value="test_state3"/>
					<atom artifact = "test_artifact3" type="state" value="test_state3"/>
					<atom artifact = "test_artifact4" type="state" value="test_state3"/>
					<atom artifact = "test_artifact5" type="state" value="test_state3"/>
					<atom artifact = "test_artifact6" type="state" value="test_state3"/>
					<atom artifact = "test_artifact7" type="state" value="test_state3"/>
					<atom artifact = "test_artifact8" type="state" value="test_state3"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_state3" toState="test_state4"/> 
						<transition artifact="order" fromState="test_state3" toState="test_state4"/> 
						<transition artifact="test_artifact1" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact2" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact3" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact4" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact5" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact6" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact7" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact8" fromState="test_state3" toState="test_state4"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r016-test_state5">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state4"/>
					<atom artifact = "order" type="state" value="test_state4"/>
					<atom artifact = "test_artifact1" type="state" value="test_state4"/>
					<atom artifact = "test_artifact2" type="state" value="test_state4"/>
					<atom artifact = "test_artifact3" type="state" value="test_state4"/>
					<atom artifact = "test_artifact4" type="state" value="test_state4"/>
					<atom artifact = "test_artifact5" type="state" value="test_state4"/>
					<atom artifact = "test_artifact6" type="state" value="test_state4"/>
					<atom artifact = "test_artifact7" type="state" value="test_state4"/>
					<atom artifact = "test_artifact8" type="state" value="test_state4"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state4" toState="test_state5"/>
						<transition artifact="deliveryNote" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact1" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact2" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact3" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact4" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact5" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact6" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact7" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact8" fromState="test_state4" toState="test_state5"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r017-test_state6">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state5"/>
					<atom artifact = "order" type="state" value="test_state5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state5" toState="test_state6"/>
						<transition artifact="deliveryNote" fromState="test_state5" toState="test_state6"/> 
						<transition artifact="test_artifact1" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact2" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact3" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact4" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact5" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact6" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact7" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact8" fromState="test_state5" toState="test_state6"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r018-test_state7">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state6"/>
					<atom artifact = "order" type="state" value="test_state6"/>
					<atom artifact = "test_artifact1" type="state" value="test_state6"/>
					<atom artifact = "test_artifact2" type="state" value="test_state6"/>
					<atom artifact = "test_artifact3" type="state" value="test_state6"/>
					<atom artifact = "test_artifact4" type="state" value="test_state6"/>
					<atom artifact = "test_artifact5" type="state" value="test_state6"/>
					<atom artifact = "test_artifact6" type="state" value="test_state6"/>
					<atom artifact = "test_artifact7" type="state" value="test_state6"/>
					<atom artifact = "test_artifact8" type="state" value="test_state6"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state6" toState="test_state7"/>
						<transition artifact="deliveryNote" fromState="test_state6" toState="test_state7"/> 
						<transition artifact="test_artifact1" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact2" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact3" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact4" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact5" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact6" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact7" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact8" fromState="test_state6" toState="test_state7"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r019-test_state8">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state7"/>
					<atom artifact = "order" type="state" value="test_state7"/>
					<atom artifact = "test_artifact1" type="state" value="test_state7"/>
					<atom artifact = "test_artifact2" type="state" value="test_state7"/>
					<atom artifact = "test_artifact3" type="state" value="test_state7"/>
					<atom artifact = "test_artifact4" type="state" value="test_state7"/>
					<atom artifact = "test_artifact5" type="state" value="test_state7"/>
					<atom artifact = "test_artifact6" type="state" value="test_state7"/>
					<atom artifact = "test_artifact7" type="state" value="test_state7"/>
					<atom artifact = "test_artifact8" type="state" value="test_state7"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
						
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state7" toState="test_state8"/>
						<transition artifact="deliveryNote" fromState="test_state7" toState="test_state8"/> 
						<transition artifact="test_artifact1" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact2" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact3" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact4" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact5" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact6" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact7" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact8" fromState="test_state7" toState="test_state8"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r020-test_state9">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state8"/>
					<atom artifact = "order" type="state" value="test_state8"/>
					<atom artifact = "test_artifact1" type="state" value="test_state8"/>
					<atom artifact = "test_artifact2" type="state" value="test_state8"/>
					<atom artifact = "test_artifact3" type="state" value="test_state8"/>
					<atom artifact = "test_artifact4" type="state" value="test_state8"/>
					<atom artifact = "test_artifact5" type="state" value="test_state8"/>
					<atom artifact = "test_artifact6" type="state" value="test_state8"/>
					<atom artifact = "test_artifact7" type="state" value="test_state8"/>
					<atom artifact = "test_artifact8" type="state" value="test_state8"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state8" toState="test_state9"/>
						<transition artifact="deliveryNote" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact1" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact2" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact3" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact4" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact5" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact6" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact7" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact8" fromState="test_state8" toState="test_state9"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r021-test_state10">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state9"/>
					<atom artifact = "order" type="state" value="test_state9"/>
					<atom artifact = "test_artifact1" type="state" value="test_state9"/>
					<atom artifact = "test_artifact2" type="state" value="test_state9"/>
					<atom artifact = "test_artifact3" type="state" value="test_state9"/>
					<atom artifact = "test_artifact4" type="state" value="test_state9"/>
					<atom artifact = "test_artifact5" type="state" value="test_state9"/>
					<atom artifact = "test_artifact6" type="state" value="test_state9"/>
					<atom artifact = "test_artifact7" type="state" value="test_state9"/>
					<atom artifact = "test_artifact8" type="state" value="test_state9"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					<transition artifact="order" fromState="test_state9" toState="test_state10"/>
						<transition artifact="deliveryNote" fromState="test_state9" toState="test_state10"/> 
						<transition artifact="test_artifact1" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact2" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact3" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact4" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact5" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact6" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact7" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact8" fromState="test_state9" toState="test_state10"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r022-test_state11">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state10"/>
					<atom artifact = "order" type="state" value="test_state10"/>
					<atom artifact = "test_artifact1" type="state" value="test_state10"/>
					<atom artifact = "test_artifact2" type="state" value="test_state10"/>
					<atom artifact = "test_artifact3" type="state" value="test_state10"/>
					<atom artifact = "test_artifact4" type="state" value="test_state10"/>
					<atom artifact = "test_artifact5" type="state" value="test_state10"/>
					<atom artifact = "test_artifact6" type="state" value="test_state10"/>
					<atom artifact = "test_artifact7" type="state" value="test_state10"/>
					<atom artifact = "test_artifact8" type="state" value="test_state10"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					    <transition artifact="order" fromState="test_state10" toState="test_state11"/> 
						<transition artifact="deliveryNote" fromState="test_state10" toState="test_state11"/> 
						<transition artifact="test_artifact1" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact2" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact3" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact4" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact5" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact6" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact7" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact8" fromState="test_state10" toState="test_state11"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r023-test_state12">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state11"/>
					<atom artifact = "order" type="state" value="test_state11"/>
					<atom artifact = "test_artifact1" type="state" value="test_state11"/>
					<atom artifact = "test_artifact2" type="state" value="test_state11"/>
					<atom artifact = "test_artifact3" type="state" value="test_state11"/>
					<atom artifact = "test_artifact4" type="state" value="test_state11"/>
					<atom artifact = "test_artifact5" type="state" value="test_state11"/>
					<atom artifact = "test_artifact6" type="state" value="test_state11"/>
					<atom artifact = "test_artifact7" type="state" value="test_state11"/>
					<atom artifact = "test_artifact8" type="state" value="test_state11"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state11" toState="test_state12"/>
						<transition artifact="deliveryNote" fromState="test_state11" toState="test_state12"/> 
						<transition artifact="test_artifact1" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact2" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact3" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact4" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact5" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact6" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact7" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact8" fromState="test_state11" toState="test_state12"/>					
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r024-test_state13">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "order" type="state" value="test_state12"/>				
					<atom artifact = "deliveryNote" type="state" value="test_state12"/>	
					<atom artifact = "test_artifact1" type="state" value="test_state12"/>
					<atom artifact = "test_artifact2" type="state" value="test_state12"/>
					<atom artifact = "test_artifact3" type="state" value="test_state12"/>
					<atom artifact = "test_artifact4" type="state" value="test_state12"/>
					<atom artifact = "test_artifact5" type="state" value="test_state12"/>
					<atom artifact = "test_artifact6" type="state" value="test_state12"/>
					<atom artifact = "test_artifact7" type="state" value="test_state12"/>
					<atom artifact = "test_artifact8" type="state" value="test_state12"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state12" toState="test_state13"/> 
						<transition artifact="deliveryNote" fromState="test_state12" toState="test_state13"/> 
						<transition artifact="test_artifact1" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact2" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact3" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact4" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact5" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact6" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact7" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact8" fromState="test_state12" toState="test_state13"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r025-test_state14">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state13"/>		
					<atom artifact = "order" type="state" value="test_state13"/>
					<atom artifact = "test_artifact1" type="state" value="test_state13"/>
					<atom artifact = "test_artifact2" type="state" value="test_state13"/>
					<atom artifact = "test_artifact3" type="state" value="test_state13"/>
					<atom artifact = "test_artifact4" type="state" value="test_state13"/>
					<atom artifact = "test_artifact5" type="state" value="test_state13"/>
					<atom artifact = "test_artifact6" type="state" value="test_state13"/>
					<atom artifact = "test_artifact7" type="state" value="test_state13"/>
					<atom artifact = "test_artifact8" type="state" value="test_state13"/>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state13" toState="test_state14"/>
						<transition artifact="deliveryNote" fromState="test_state13" toState="test_state14"/> 
						<transition artifact="test_artifact1" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact2" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact3" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact4" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact5" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact6" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact7" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact8" fromState="test_state13" toState="test_state14"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r026-test_state15">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state14"/>
					<atom artifact = "order" type="state" value="test_state14"/>
					<atom artifact = "test_artifact1" type="state" value="test_state14"/>
					<atom artifact = "test_artifact2" type="state" value="test_state14"/>
					<atom artifact = "test_artifact3" type="state" value="test_state14"/>
					<atom artifact = "test_artifact4" type="state" value="test_state14"/>
					<atom artifact = "test_artifact5" type="state" value="test_state14"/>
					<atom artifact = "test_artifact6" type="state" value="test_state14"/>
					<atom artifact = "test_artifact7" type="state" value="test_state14"/>
					<atom artifact = "test_artifact8" type="state" value="test_state14"/>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state14" toState="test_state15"/> 
						<transition artifact="deliveryNote" fromState="test_state14" toState="test_state15"/> 
						<transition artifact="test_artifact1" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact2" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact3" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact4" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact5" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact6" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact7" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact8" fromState="test_state14" toState="test_state15"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r027-test_state16">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state15"/>
					<atom artifact = "order" type="state" value="test_state15"/>
					<atom artifact = "test_artifact1" type="state" value="test_state15"/>
					<atom artifact = "test_artifact2" type="state" value="test_state15"/>
					<atom artifact = "test_artifact3" type="state" value="test_state15"/>
					<atom artifact = "test_artifact4" type="state" value="test_state15"/>
					<atom artifact = "test_artifact5" type="state" value="test_state15"/>
					<atom artifact = "test_artifact6" type="state" value="test_state15"/>
					<atom artifact = "test_artifact7" type="state" value="test_state15"/>
					<atom artifact = "test_artifact8" type="state" value="test_state15"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state15" toState="test_state16"/> 
						<transition artifact="deliveryNote" fromState="test_state15" toState="test_state16"/> 
						<transition artifact="test_artifact1" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact2" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact3" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact4" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact5" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact6" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact7" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact8" fromState="test_state15" toState="test_state16"/>	
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r028-test_state17">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="ready_for_payment" toState="test_state17"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r029-test_state18">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state17"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state17" toState="test_state18"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r030-test_state19">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state18"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state18" toState="test_state19"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r031-test_state20">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state19"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state19" toState="test_state20"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r032-test_state21">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state20"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state20" toState="test_state21"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r033-test_state22">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state21"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state21" toState="test_state22"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r033-test_state13">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state22"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state22" toState="test_state23"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r034-test_state24">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state23"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state23" toState="test_state24"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r035-test_state25">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state24"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state24" toState="test_state25"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r036-test_state26">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state25"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state25" toState="test_state26"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r037-test_state27">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state26"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state26" toState="test_state27"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r038-test_state28">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state27"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state27" toState="test_state28"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r039-test_state29">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state28"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state28" toState="test_state29"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r040-test_state30">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state29"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state29" toState="test_state30"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r041-test_state31">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state30"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state30" toState="test_state31"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r042-test_state32">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state31"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state31" toState="test_state32"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r043-test_state33">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state32"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state32" toState="test_state33"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r044-test_state34">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state33"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state33" toState="test_state12"/>
						<transition artifact="deliveryNote" fromState="test_state11" toState="test_state12"/> 
						<transition artifact="test_artifact1" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact2" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact3" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact4" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact5" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact6" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact7" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact8" fromState="test_state11" toState="test_state12"/>	 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r045-test_state34">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state25"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state25" toState="test_state34"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r046-test_state35">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state20"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
						</map>	
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state20" toState="test_state35"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r047-test_state36">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state27"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state27" toState="test_state36"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r048-test_state37">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state10"/>
					<atom artifact = "order" type="state" value="test_state10"/>
					<atom artifact = "test_artifact1" type="state" value="test_state10"/>
					<atom artifact = "test_artifact2" type="state" value="test_state10"/>
					<atom artifact = "test_artifact3" type="state" value="test_state10"/>
					<atom artifact = "test_artifact4" type="state" value="test_state10"/>
					<atom artifact = "test_artifact5" type="state" value="test_state10"/>
					<atom artifact = "test_artifact6" type="state" value="test_state10"/>
					<atom artifact = "test_artifact7" type="state" value="test_state10"/>
					<atom artifact = "test_artifact8" type="state" value="test_state10"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					    <transition artifact="order" fromState="test_state10" toState="test_state37"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r049-test_state38">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "deliveryNote" type="state" value="prepared"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="prepared" toState="test_state38"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state5"/>
					<atom artifact = "order" type="state" value="test_state5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state5" toState="test_state39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule>
		<!-- here -->
		<rule name="r02-addOrderItem:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="open_for_item"/>
					<atom attribute = "item" type="input" op = "!=" value="null"/>
					<atom attribute = "quantity" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do>
				<invoke operation="calculateGrandTotal" service="GrandTotalService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "addItemRequest"  part="item"/> 
								<to message = "calculateGrandTotalRequest" part = "Item"/>
							</copy>
							<copy>
								<from Message = "addItemRequest"  part="quantity"/> 
								<to message = "calculateGrandTotalRequest" part = "Quantity"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "calculateGrandTotalResponse" part = "item"/>
								<to artifact = "order" attribute ="orderItem"/> 							
							</copy>
							<copy>
								<from message = "calculateGrandTotalResponse" part = "quantity"/>
								<to artifact = "order" attribute ="quantity"/> 							
							</copy>
							<copy>
								<from message = "calculateGrandTotalResponse" part = "grandTotal"/>
								<to artifact = "order" attribute ="grand_total"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="open_for_item" toState="ready_for_payment2"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		
		<rule name="r04-confirmOrderItem:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="processing_order_item2"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="processing_order_item2" toState="order_item_completed"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r05-cancelOrder:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment2"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="ready_for_payment2" toState="cancelled"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r06-createPayment">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment2"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>
					<atom attribute = "total_price" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="start" toState="unpaid2"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r07-makePayment:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment2"/>
					<atom artifact = "invoice" type="state" value="unpaid2"/>
					<atom attribute = "invoice_id" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
						</map>	
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="unpaid2" toState="paid2"/> 
						<transition artifact="order" fromState="ready_for_payment" toState="payment_confirmed2"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r03-submitOrderItem:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "invoice" type="state" value="paid2"/>
					<atom artifact = "order" type="state" value="payment_confirmed2"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do>
				<invoke operation="submitOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "confirmPaymentRequest"  part="orderId"/> 
								<to message = "submitOrderItemRequest" part = "OrderId"/>
							</copy>
						</map>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderItem"/> 
								<to message = "submitOrderItemRequest" part = "OrderItem"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "submitDate"/>
								<to artifact = "order" attribute ="order_item_submit_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="payment_confirmed2" toState="processing_order_item2" /> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r10-cancelPayment:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "invoice" type="state" value="unpaid2"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="unpaid2" toState="cancelled"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		
		<rule name="r012-test_state1:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="transfering"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="transfering" toState="test_statet1"/>
						<transition artifact="deliveryNote" fromState="transfering" toState="test_statet1"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r013-test_state2:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet1"/>
					<atom artifact = "order" type="state" value="test_statet1"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_state1" toState="test_statet2"/>
						<transition artifact="order" fromState="test_statet1" toState="test_statet2"/>
						<transition artifact="test_artifact1" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact2" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact3" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact4" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact5" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact6" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact7" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact8" fromState="test_state1" toState="test_state2"/>
						 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r014-test_state3:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet2"/>
					<atom artifact = "order" type="state" value="test_statet2"/>
					<atom artifact = "test_artifact1" type="state" value="test_state2"/>
					<atom artifact = "test_artifact2" type="state" value="test_state2"/>
					<atom artifact = "test_artifact3" type="state" value="test_state2"/>
					<atom artifact = "test_artifact4" type="state" value="test_state2"/>
					<atom artifact = "test_artifact5" type="state" value="test_state2"/>
					<atom artifact = "test_artifact6" type="state" value="test_state2"/>
					<atom artifact = "test_artifact7" type="state" value="test_state2"/>
					<atom artifact = "test_artifact8" type="state" value="test_state2"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_state2" toState="test_statet3"/> 
						<transition artifact="order" fromState="test_statet2" toState="test_statet3"/> 
						<transition artifact="test_artifact1" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact2" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact3" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact4" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact5" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact6" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact7" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact8" fromState="test_state2" toState="test_state3"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r015-test_state4:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet3"/>
					<atom artifact = "order" type="state" value="test_statet3"/>
					<atom artifact = "test_artifact1" type="state" value="test_state3"/>
					<atom artifact = "test_artifact2" type="state" value="test_state3"/>
					<atom artifact = "test_artifact3" type="state" value="test_state3"/>
					<atom artifact = "test_artifact4" type="state" value="test_state3"/>
					<atom artifact = "test_artifact5" type="state" value="test_state3"/>
					<atom artifact = "test_artifact6" type="state" value="test_state3"/>
					<atom artifact = "test_artifact7" type="state" value="test_state3"/>
					<atom artifact = "test_artifact8" type="state" value="test_state3"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_statet3" toState="test_statet4"/> 
						<transition artifact="order" fromState="test_statet3" toState="test_statet4"/> 
						<transition artifact="test_artifact1" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact2" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact3" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact4" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact5" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact6" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact7" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact8" fromState="test_state3" toState="test_state4"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r016-test_state5:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet4"/>
					<atom artifact = "order" type="state" value="test_statet4"/>
					<atom artifact = "test_artifact1" type="state" value="test_state4"/>
					<atom artifact = "test_artifact2" type="state" value="test_state4"/>
					<atom artifact = "test_artifact3" type="state" value="test_state4"/>
					<atom artifact = "test_artifact4" type="state" value="test_state4"/>
					<atom artifact = "test_artifact5" type="state" value="test_state4"/>
					<atom artifact = "test_artifact6" type="state" value="test_state4"/>
					<atom artifact = "test_artifact7" type="state" value="test_state4"/>
					<atom artifact = "test_artifact8" type="state" value="test_state4"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet4" toState="test_statet5"/>
						<transition artifact="deliveryNote" fromState="test_statet4" toState="test_statet5"/> 
						<transition artifact="test_artifact1" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact2" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact3" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact4" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact5" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact6" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact7" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact8" fromState="test_state4" toState="test_state5"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r017-test_state6:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet6"/>
						<transition artifact="deliveryNote" fromState="test_statet5" toState="test_statet6"/> 
						<transition artifact="test_artifact1" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact2" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact3" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact4" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact5" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact6" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact7" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact8" fromState="test_state5" toState="test_state6"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r018-test_state7:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet6"/>
					<atom artifact = "order" type="state" value="test_statet6"/>
					<atom artifact = "test_artifact1" type="state" value="test_state6"/>
					<atom artifact = "test_artifact2" type="state" value="test_state6"/>
					<atom artifact = "test_artifact3" type="state" value="test_state6"/>
					<atom artifact = "test_artifact4" type="state" value="test_state6"/>
					<atom artifact = "test_artifact5" type="state" value="test_state6"/>
					<atom artifact = "test_artifact6" type="state" value="test_state6"/>
					<atom artifact = "test_artifact7" type="state" value="test_state6"/>
					<atom artifact = "test_artifact8" type="state" value="test_state6"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet6" toState="test_statet7"/>
						<transition artifact="deliveryNote" fromState="test_statet6" toState="test_statet7"/> 
						<transition artifact="test_artifact1" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact2" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact3" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact4" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact5" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact6" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact7" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact8" fromState="test_state6" toState="test_state7"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r019-test_state8:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet7"/>
					<atom artifact = "order" type="state" value="test_statet7"/>
					<atom artifact = "test_artifact1" type="state" value="test_state7"/>
					<atom artifact = "test_artifact2" type="state" value="test_state7"/>
					<atom artifact = "test_artifact3" type="state" value="test_state7"/>
					<atom artifact = "test_artifact4" type="state" value="test_state7"/>
					<atom artifact = "test_artifact5" type="state" value="test_state7"/>
					<atom artifact = "test_artifact6" type="state" value="test_state7"/>
					<atom artifact = "test_artifact7" type="state" value="test_state7"/>
					<atom artifact = "test_artifact8" type="state" value="test_state7"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
						
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet7" toState="test_statet8"/>
						<transition artifact="deliveryNote" fromState="test_statet7" toState="test_statet8"/> 
						<transition artifact="test_artifact1" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact2" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact3" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact4" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact5" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact6" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact7" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact8" fromState="test_state7" toState="test_state8"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r020-test_state9:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet8"/>
					<atom artifact = "order" type="state" value="test_statet8"/>
					<atom artifact = "test_artifact1" type="state" value="test_state8"/>
					<atom artifact = "test_artifact2" type="state" value="test_state8"/>
					<atom artifact = "test_artifact3" type="state" value="test_state8"/>
					<atom artifact = "test_artifact4" type="state" value="test_state8"/>
					<atom artifact = "test_artifact5" type="state" value="test_state8"/>
					<atom artifact = "test_artifact6" type="state" value="test_state8"/>
					<atom artifact = "test_artifact7" type="state" value="test_state8"/>
					<atom artifact = "test_artifact8" type="state" value="test_state8"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet8" toState="test_statet9"/>
						<transition artifact="deliveryNote" fromState="test_statet8" toState="test_statet9"/> 
						<transition artifact="test_artifact1" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact2" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact3" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact4" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact5" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact6" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact7" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact8" fromState="test_state8" toState="test_state9"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r021-test_state10:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet9"/>
					<atom artifact = "order" type="state" value="test_statet9"/>
					<atom artifact = "test_artifact1" type="state" value="test_state9"/>
					<atom artifact = "test_artifact2" type="state" value="test_state9"/>
					<atom artifact = "test_artifact3" type="state" value="test_state9"/>
					<atom artifact = "test_artifact4" type="state" value="test_state9"/>
					<atom artifact = "test_artifact5" type="state" value="test_state9"/>
					<atom artifact = "test_artifact6" type="state" value="test_state9"/>
					<atom artifact = "test_artifact7" type="state" value="test_state9"/>
					<atom artifact = "test_artifact8" type="state" value="test_state9"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					<transition artifact="order" fromState="test_statet9" toState="test_statet10"/>
						<transition artifact="deliveryNote" fromState="test_statet9" toState="test_statet10"/> 
						<transition artifact="test_artifact1" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact2" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact3" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact4" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact5" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact6" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact7" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact8" fromState="test_state9" toState="test_state10"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r022-test_state11:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet10"/>
					<atom artifact = "order" type="state" value="test_statet10"/>
					<atom artifact = "test_artifact1" type="state" value="test_state10"/>
					<atom artifact = "test_artifact2" type="state" value="test_state10"/>
					<atom artifact = "test_artifact3" type="state" value="test_state10"/>
					<atom artifact = "test_artifact4" type="state" value="test_state10"/>
					<atom artifact = "test_artifact5" type="state" value="test_state10"/>
					<atom artifact = "test_artifact6" type="state" value="test_state10"/>
					<atom artifact = "test_artifact7" type="state" value="test_state10"/>
					<atom artifact = "test_artifact8" type="state" value="test_state10"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					    <transition artifact="order" fromState="test_statet10" toState="test_statet11"/> 
						<transition artifact="deliveryNote" fromState="test_statet10" toState="test_statet11"/> 
						<transition artifact="test_artifact1" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact2" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact3" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact4" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact5" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact6" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact7" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact8" fromState="test_state10" toState="test_state11"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r023-test_state12:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet11"/>
					<atom artifact = "order" type="state" value="test_statet11"/>
					<atom artifact = "test_artifact1" type="state" value="test_state11"/>
					<atom artifact = "test_artifact2" type="state" value="test_state11"/>
					<atom artifact = "test_artifact3" type="state" value="test_state11"/>
					<atom artifact = "test_artifact4" type="state" value="test_state11"/>
					<atom artifact = "test_artifact5" type="state" value="test_state11"/>
					<atom artifact = "test_artifact6" type="state" value="test_state11"/>
					<atom artifact = "test_artifact7" type="state" value="test_state11"/>
					<atom artifact = "test_artifact8" type="state" value="test_state11"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet11" toState="test_statet12"/>
						<transition artifact="deliveryNote" fromState="test_statet11" toState="test_statet12"/> 
						<transition artifact="test_artifact1" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact2" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact3" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact4" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact5" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact6" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact7" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact8" fromState="test_state11" toState="test_state12"/>					
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r024-test_state13:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "order" type="state" value="test_statet12"/>				
					<atom artifact = "deliveryNote" type="state" value="test_statet12"/>	
					<atom artifact = "test_artifact1" type="state" value="test_state12"/>
					<atom artifact = "test_artifact2" type="state" value="test_state12"/>
					<atom artifact = "test_artifact3" type="state" value="test_state12"/>
					<atom artifact = "test_artifact4" type="state" value="test_state12"/>
					<atom artifact = "test_artifact5" type="state" value="test_state12"/>
					<atom artifact = "test_artifact6" type="state" value="test_state12"/>
					<atom artifact = "test_artifact7" type="state" value="test_state12"/>
					<atom artifact = "test_artifact8" type="state" value="test_state12"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet12" toState="test_statet13"/> 
						<transition artifact="deliveryNote" fromState="test_statet12" toState="test_statet13"/> 
						<transition artifact="test_artifact1" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact2" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact3" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact4" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact5" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact6" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact7" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact8" fromState="test_state12" toState="test_state13"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r025-test_state14:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet13"/>		
					<atom artifact = "order" type="state" value="test_statet13"/>
					<atom artifact = "test_artifact1" type="state" value="test_state13"/>
					<atom artifact = "test_artifact2" type="state" value="test_state13"/>
					<atom artifact = "test_artifact3" type="state" value="test_state13"/>
					<atom artifact = "test_artifact4" type="state" value="test_state13"/>
					<atom artifact = "test_artifact5" type="state" value="test_state13"/>
					<atom artifact = "test_artifact6" type="state" value="test_state13"/>
					<atom artifact = "test_artifact7" type="state" value="test_state13"/>
					<atom artifact = "test_artifact8" type="state" value="test_state13"/>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet13" toState="test_statet14"/>
						<transition artifact="deliveryNote" fromState="test_statet13" toState="test_statet14"/> 
						<transition artifact="test_artifact1" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact2" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact3" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact4" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact5" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact6" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact7" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact8" fromState="test_state13" toState="test_state14"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r026-test_state15:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet14"/>
					<atom artifact = "order" type="state" value="test_statet14"/>
					<atom artifact = "test_artifact1" type="state" value="test_state14"/>
					<atom artifact = "test_artifact2" type="state" value="test_state14"/>
					<atom artifact = "test_artifact3" type="state" value="test_state14"/>
					<atom artifact = "test_artifact4" type="state" value="test_state14"/>
					<atom artifact = "test_artifact5" type="state" value="test_state14"/>
					<atom artifact = "test_artifact6" type="state" value="test_state14"/>
					<atom artifact = "test_artifact7" type="state" value="test_state14"/>
					<atom artifact = "test_artifact8" type="state" value="test_state14"/>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet14" toState="test_statet15"/> 
						<transition artifact="deliveryNote" fromState="test_statet14" toState="test_statet15"/> 
						<transition artifact="test_artifact1" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact2" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact3" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact4" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact5" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact6" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact7" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact8" fromState="test_state14" toState="test_state15"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r027-test_state16:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet15"/>
					<atom artifact = "order" type="state" value="test_statett15"/>
					<atom artifact = "test_artifact1" type="state" value="test_state15"/>
					<atom artifact = "test_artifact2" type="state" value="test_state15"/>
					<atom artifact = "test_artifact3" type="state" value="test_state15"/>
					<atom artifact = "test_artifact4" type="state" value="test_state15"/>
					<atom artifact = "test_artifact5" type="state" value="test_state15"/>
					<atom artifact = "test_artifact6" type="state" value="test_state15"/>
					<atom artifact = "test_artifact7" type="state" value="test_state15"/>
					<atom artifact = "test_artifact8" type="state" value="test_state15"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet15" toState="test_statet16"/> 
						<transition artifact="deliveryNote" fromState="test_statet15" toState="test_statet16"/> 
						<transition artifact="test_artifact1" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact2" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact3" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact4" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact5" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact6" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact7" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact8" fromState="test_state15" toState="test_state16"/>	
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r028-test_state17:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment2"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="ready_for_payment2" toState="test_statet17"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r029-test_state18:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet17"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet17" toState="test_statet18"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r030-test_state19:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet18"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet18" toState="test_statet19"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r031-test_state20:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet19"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet19" toState="test_statet20"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r032-test_state21:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet20"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet20" toState="test_statet21"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r033-test_state22:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet21"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet21" toState="test_statet22"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r033-test_state13:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet22"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet22" toState="test_statet23"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r034-test_state24:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet23"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet23" toState="test_statet24"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r035-test_state25:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet24"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet24" toState="test_statet25"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r036-test_state26:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet25"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet25" toState="test_statet26"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r037-test_state27:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet26"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet26" toState="test_statet27"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r038-test_state28:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet27"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet27" toState="test_statet28"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r039-test_state29:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet28"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet28" toState="test_statet29"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r040-test_state30:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet29"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet29" toState="test_statet30"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r041-test_state31:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet30"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet30" toState="test_statet31"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r042-test_state32:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet31"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet31" toState="test_statet32"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r043-test_state33:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet32"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet32" toState="test_statet33"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r044-test_state34:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet33"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet33" toState="test_statet12"/>
						<transition artifact="deliveryNote" fromState="test_state11" toState="test_statet12"/> 
						<transition artifact="test_artifact1" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact2" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact3" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact4" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact5" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact6" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact7" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact8" fromState="test_state11" toState="test_state12"/>	 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r045-test_state34:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet25"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet25" toState="test_statet34"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r046-test_state35:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet20"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
						</map>	
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet20" toState="test_statet35"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r047-test_state36:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet27"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet27" toState="test_statet36"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r048-test_state37:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state10"/>
					<atom artifact = "order" type="state" value="test_statet10"/>
					<atom artifact = "test_artifact1" type="state" value="test_state10"/>
					<atom artifact = "test_artifact2" type="state" value="test_state10"/>
					<atom artifact = "test_artifact3" type="state" value="test_state10"/>
					<atom artifact = "test_artifact4" type="state" value="test_state10"/>
					<atom artifact = "test_artifact5" type="state" value="test_state10"/>
					<atom artifact = "test_artifact6" type="state" value="test_state10"/>
					<atom artifact = "test_artifact7" type="state" value="test_state10"/>
					<atom artifact = "test_artifact8" type="state" value="test_state10"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					    <transition artifact="order" fromState="test_statet10" toState="test_statet37"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<!--  here -->
		<rule name="r02-addOrderItem">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="open_for_item"/>
					<atom attribute = "item" type="input" op = "!=" value="null"/>
					<atom attribute = "quantity" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do>
				<invoke operation="calculateGrandTotal" service="GrandTotalService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "addItemRequest"  part="item"/> 
								<to message = "calculateGrandTotalRequest" part = "Item"/>
							</copy>
							<copy>
								<from Message = "addItemRequest"  part="quantity"/> 
								<to message = "calculateGrandTotalRequest" part = "Quantity"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "calculateGrandTotalResponse" part = "item"/>
								<to artifact = "order" attribute ="orderItem"/> 							
							</copy>
							<copy>
								<from message = "calculateGrandTotalResponse" part = "quantity"/>
								<to artifact = "order" attribute ="quantity"/> 							
							</copy>
							<copy>
								<from message = "calculateGrandTotalResponse" part = "grandTotal"/>
								<to artifact = "order" attribute ="grand_total"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="open_for_item" toState="ready_for_payment"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		
		<rule name="r04-confirmOrderItem">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="processing_order_item"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="processing_order_item" toState="order_item_completed"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r05-cancelOrder">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="ready_for_payment" toState="cancelled"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r06-createPayment">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>
					<atom attribute = "total_price" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="start" toState="unpaid"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r07-makePayment">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment"/>
					<atom artifact = "invoice" type="state" value="unpaid"/>
					<atom attribute = "invoice_id" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
						</map>	
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="unpaid" toState="paid"/> 
						<transition artifact="order" fromState="ready_for_payment" toState="payment_confirmed"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r03-submitOrderItem">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "invoice" type="state" value="paid"/>
					<atom artifact = "order" type="state" value="payment_confirmed"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do>
				<invoke operation="submitOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "confirmPaymentRequest"  part="orderId"/> 
								<to message = "submitOrderItemRequest" part = "OrderId"/>
							</copy>
						</map>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderItem"/> 
								<to message = "submitOrderItemRequest" part = "OrderItem"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "submitDate"/>
								<to artifact = "order" attribute ="order_item_submit_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="processing_order_item" toState="processing_order_item" /> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r08-createDeliverNote">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="order_item_completed"/>
					<atom artifact = "deliveryNote" type="state" value="start"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>	
					<atom attribute = "cust_name" type="input" op = "!=" value="null"/>	
					<atom attribute = "cust_address" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="start" toState="prepared"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r09-cancelCompletedOrder">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="order_item_completed"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="order_item_completed" toState="cancelled"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r10-cancelPayment">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "invoice" type="state" value="unpaid"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="unpaid" toState="cancelled"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r011-transfering">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "deliveryNote" type="state" value="prepared"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="prepared" toState="transfering"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r012-test_state1">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="transfering"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="transfering" toState="test_state1"/>
						<transition artifact="deliveryNote" fromState="transfering" toState="test_state1"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		
		<rule name="r013-test_state2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state1"/>
					<atom artifact = "order" type="state" value="test_state1"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_state1" toState="test_state2"/>
						<transition artifact="order" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact1" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact2" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact3" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact4" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact5" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact6" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact7" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact8" fromState="test_state1" toState="test_state2"/>
						
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r014-test_state3">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state2"/>
					<atom artifact = "order" type="state" value="test_state2"/>
					<atom artifact = "test_artifact1" type="state" value="test_state2"/>
					<atom artifact = "test_artifact2" type="state" value="test_state2"/>
					<atom artifact = "test_artifact3" type="state" value="test_state2"/>
					<atom artifact = "test_artifact4" type="state" value="test_state2"/>
					<atom artifact = "test_artifact5" type="state" value="test_state2"/>
					<atom artifact = "test_artifact6" type="state" value="test_state2"/>
					<atom artifact = "test_artifact7" type="state" value="test_state2"/>
					<atom artifact = "test_artifact8" type="state" value="test_state2"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_state2" toState="test_state3"/> 
						<transition artifact="order" fromState="test_state2" toState="test_state3"/> 
						<transition artifact="test_artifact1" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact2" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact3" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact4" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact5" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact6" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact7" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact8" fromState="test_state2" toState="test_state3"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r015-test_state4">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state3"/>
					<atom artifact = "order" type="state" value="test_state3"/>
					<atom artifact = "test_artifact1" type="state" value="test_state3"/>
					<atom artifact = "test_artifact2" type="state" value="test_state3"/>
					<atom artifact = "test_artifact3" type="state" value="test_state3"/>
					<atom artifact = "test_artifact4" type="state" value="test_state3"/>
					<atom artifact = "test_artifact5" type="state" value="test_state3"/>
					<atom artifact = "test_artifact6" type="state" value="test_state3"/>
					<atom artifact = "test_artifact7" type="state" value="test_state3"/>
					<atom artifact = "test_artifact8" type="state" value="test_state3"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_state3" toState="test_state4"/> 
						<transition artifact="order" fromState="test_state3" toState="test_state4"/> 
						<transition artifact="test_artifact1" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact2" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact3" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact4" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact5" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact6" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact7" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact8" fromState="test_state3" toState="test_state4"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r016-test_state5">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state4"/>
					<atom artifact = "order" type="state" value="test_state4"/>
					<atom artifact = "test_artifact1" type="state" value="test_state4"/>
					<atom artifact = "test_artifact2" type="state" value="test_state4"/>
					<atom artifact = "test_artifact3" type="state" value="test_state4"/>
					<atom artifact = "test_artifact4" type="state" value="test_state4"/>
					<atom artifact = "test_artifact5" type="state" value="test_state4"/>
					<atom artifact = "test_artifact6" type="state" value="test_state4"/>
					<atom artifact = "test_artifact7" type="state" value="test_state4"/>
					<atom artifact = "test_artifact8" type="state" value="test_state4"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state4" toState="test_state5"/>
						<transition artifact="deliveryNote" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact1" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact2" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact3" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact4" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact5" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact6" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact7" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact8" fromState="test_state4" toState="test_state5"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r017-test_state6">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state5"/>
					<atom artifact = "order" type="state" value="test_state5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state5" toState="test_state6"/>
						<transition artifact="deliveryNote" fromState="test_state5" toState="test_state6"/> 
						<transition artifact="test_artifact1" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact2" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact3" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact4" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact5" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact6" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact7" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact8" fromState="test_state5" toState="test_state6"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r018-test_state7">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state6"/>
					<atom artifact = "order" type="state" value="test_state6"/>
					<atom artifact = "test_artifact1" type="state" value="test_state6"/>
					<atom artifact = "test_artifact2" type="state" value="test_state6"/>
					<atom artifact = "test_artifact3" type="state" value="test_state6"/>
					<atom artifact = "test_artifact4" type="state" value="test_state6"/>
					<atom artifact = "test_artifact5" type="state" value="test_state6"/>
					<atom artifact = "test_artifact6" type="state" value="test_state6"/>
					<atom artifact = "test_artifact7" type="state" value="test_state6"/>
					<atom artifact = "test_artifact8" type="state" value="test_state6"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state6" toState="test_state7"/>
						<transition artifact="deliveryNote" fromState="test_state6" toState="test_state7"/> 
						<transition artifact="test_artifact1" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact2" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact3" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact4" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact5" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact6" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact7" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact8" fromState="test_state6" toState="test_state7"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r019-test_state8">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state7"/>
					<atom artifact = "order" type="state" value="test_state7"/>
					<atom artifact = "test_artifact1" type="state" value="test_state7"/>
					<atom artifact = "test_artifact2" type="state" value="test_state7"/>
					<atom artifact = "test_artifact3" type="state" value="test_state7"/>
					<atom artifact = "test_artifact4" type="state" value="test_state7"/>
					<atom artifact = "test_artifact5" type="state" value="test_state7"/>
					<atom artifact = "test_artifact6" type="state" value="test_state7"/>
					<atom artifact = "test_artifact7" type="state" value="test_state7"/>
					<atom artifact = "test_artifact8" type="state" value="test_state7"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
						
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state7" toState="test_state8"/>
						<transition artifact="deliveryNote" fromState="test_state7" toState="test_state8"/> 
						<transition artifact="test_artifact1" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact2" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact3" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact4" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact5" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact6" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact7" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact8" fromState="test_state7" toState="test_state8"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r020-test_state9">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state8"/>
					<atom artifact = "order" type="state" value="test_state8"/>
					<atom artifact = "test_artifact1" type="state" value="test_state8"/>
					<atom artifact = "test_artifact2" type="state" value="test_state8"/>
					<atom artifact = "test_artifact3" type="state" value="test_state8"/>
					<atom artifact = "test_artifact4" type="state" value="test_state8"/>
					<atom artifact = "test_artifact5" type="state" value="test_state8"/>
					<atom artifact = "test_artifact6" type="state" value="test_state8"/>
					<atom artifact = "test_artifact7" type="state" value="test_state8"/>
					<atom artifact = "test_artifact8" type="state" value="test_state8"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state8" toState="test_state9"/>
						<transition artifact="deliveryNote" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact1" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact2" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact3" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact4" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact5" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact6" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact7" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact8" fromState="test_state8" toState="test_state9"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r021-test_state10">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state9"/>
					<atom artifact = "order" type="state" value="test_state9"/>
					<atom artifact = "test_artifact1" type="state" value="test_state9"/>
					<atom artifact = "test_artifact2" type="state" value="test_state9"/>
					<atom artifact = "test_artifact3" type="state" value="test_state9"/>
					<atom artifact = "test_artifact4" type="state" value="test_state9"/>
					<atom artifact = "test_artifact5" type="state" value="test_state9"/>
					<atom artifact = "test_artifact6" type="state" value="test_state9"/>
					<atom artifact = "test_artifact7" type="state" value="test_state9"/>
					<atom artifact = "test_artifact8" type="state" value="test_state9"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					<transition artifact="order" fromState="test_state9" toState="test_state10"/>
						<transition artifact="deliveryNote" fromState="test_state9" toState="test_state10"/> 
						<transition artifact="test_artifact1" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact2" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact3" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact4" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact5" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact6" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact7" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact8" fromState="test_state9" toState="test_state10"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r022-test_state11">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state10"/>
					<atom artifact = "order" type="state" value="test_state10"/>
					<atom artifact = "test_artifact1" type="state" value="test_state10"/>
					<atom artifact = "test_artifact2" type="state" value="test_state10"/>
					<atom artifact = "test_artifact3" type="state" value="test_state10"/>
					<atom artifact = "test_artifact4" type="state" value="test_state10"/>
					<atom artifact = "test_artifact5" type="state" value="test_state10"/>
					<atom artifact = "test_artifact6" type="state" value="test_state10"/>
					<atom artifact = "test_artifact7" type="state" value="test_state10"/>
					<atom artifact = "test_artifact8" type="state" value="test_state10"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					    <transition artifact="order" fromState="test_state10" toState="test_state11"/> 
						<transition artifact="deliveryNote" fromState="test_state10" toState="test_state11"/> 
						<transition artifact="test_artifact1" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact2" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact3" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact4" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact5" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact6" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact7" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact8" fromState="test_state10" toState="test_state11"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r023-test_state12">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state11"/>
					<atom artifact = "order" type="state" value="test_state11"/>
					<atom artifact = "test_artifact1" type="state" value="test_state11"/>
					<atom artifact = "test_artifact2" type="state" value="test_state11"/>
					<atom artifact = "test_artifact3" type="state" value="test_state11"/>
					<atom artifact = "test_artifact4" type="state" value="test_state11"/>
					<atom artifact = "test_artifact5" type="state" value="test_state11"/>
					<atom artifact = "test_artifact6" type="state" value="test_state11"/>
					<atom artifact = "test_artifact7" type="state" value="test_state11"/>
					<atom artifact = "test_artifact8" type="state" value="test_state11"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state11" toState="test_state12"/>
						<transition artifact="deliveryNote" fromState="test_state11" toState="test_state12"/> 
						<transition artifact="test_artifact1" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact2" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact3" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact4" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact5" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact6" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact7" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact8" fromState="test_state11" toState="test_state12"/>					
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r024-test_state13">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "order" type="state" value="test_state12"/>				
					<atom artifact = "deliveryNote" type="state" value="test_state12"/>	
					<atom artifact = "test_artifact1" type="state" value="test_state12"/>
					<atom artifact = "test_artifact2" type="state" value="test_state12"/>
					<atom artifact = "test_artifact3" type="state" value="test_state12"/>
					<atom artifact = "test_artifact4" type="state" value="test_state12"/>
					<atom artifact = "test_artifact5" type="state" value="test_state12"/>
					<atom artifact = "test_artifact6" type="state" value="test_state12"/>
					<atom artifact = "test_artifact7" type="state" value="test_state12"/>
					<atom artifact = "test_artifact8" type="state" value="test_state12"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state12" toState="test_state13"/> 
						<transition artifact="deliveryNote" fromState="test_state12" toState="test_state13"/> 
						<transition artifact="test_artifact1" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact2" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact3" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact4" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact5" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact6" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact7" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact8" fromState="test_state12" toState="test_state13"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r025-test_state14">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state13"/>		
					<atom artifact = "order" type="state" value="test_state13"/>
					<atom artifact = "test_artifact1" type="state" value="test_state13"/>
					<atom artifact = "test_artifact2" type="state" value="test_state13"/>
					<atom artifact = "test_artifact3" type="state" value="test_state13"/>
					<atom artifact = "test_artifact4" type="state" value="test_state13"/>
					<atom artifact = "test_artifact5" type="state" value="test_state13"/>
					<atom artifact = "test_artifact6" type="state" value="test_state13"/>
					<atom artifact = "test_artifact7" type="state" value="test_state13"/>
					<atom artifact = "test_artifact8" type="state" value="test_state13"/>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external"> 
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state13" toState="test_state14"/>
						<transition artifact="deliveryNote" fromState="test_state13" toState="test_state14"/> 
						<transition artifact="test_artifact1" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact2" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact3" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact4" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact5" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact6" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact7" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact8" fromState="test_state13" toState="test_state14"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r026-test_state15">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state14"/>
					<atom artifact = "order" type="state" value="test_state14"/>
					<atom artifact = "test_artifact1" type="state" value="test_state14"/>
					<atom artifact = "test_artifact2" type="state" value="test_state14"/>
					<atom artifact = "test_artifact3" type="state" value="test_state14"/>
					<atom artifact = "test_artifact4" type="state" value="test_state14"/>
					<atom artifact = "test_artifact5" type="state" value="test_state14"/>
					<atom artifact = "test_artifact6" type="state" value="test_state14"/>
					<atom artifact = "test_artifact7" type="state" value="test_state14"/>
					<atom artifact = "test_artifact8" type="state" value="test_state14"/>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state14" toState="test_state15"/> 
						<transition artifact="deliveryNote" fromState="test_state14" toState="test_state15"/> 
						<transition artifact="test_artifact1" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact2" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact3" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact4" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact5" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact6" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact7" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact8" fromState="test_state14" toState="test_state15"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r027-test_state16">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state15"/>
					<atom artifact = "order" type="state" value="test_state15"/>
					<atom artifact = "test_artifact1" type="state" value="test_state15"/>
					<atom artifact = "test_artifact2" type="state" value="test_state15"/>
					<atom artifact = "test_artifact3" type="state" value="test_state15"/>
					<atom artifact = "test_artifact4" type="state" value="test_state15"/>
					<atom artifact = "test_artifact5" type="state" value="test_state15"/>
					<atom artifact = "test_artifact6" type="state" value="test_state15"/>
					<atom artifact = "test_artifact7" type="state" value="test_state15"/>
					<atom artifact = "test_artifact8" type="state" value="test_state15"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state15" toState="test_state16"/> 
						<transition artifact="deliveryNote" fromState="test_state15" toState="test_state16"/> 
						<transition artifact="test_artifact1" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact2" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact3" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact4" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact5" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact6" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact7" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact8" fromState="test_state15" toState="test_state16"/>	
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r028-test_state17">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="ready_for_payment" toState="test_state17"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r029-test_state18">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state17"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state17" toState="test_state18"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r030-test_state19">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state18"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state18" toState="test_state19"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r031-test_state20">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state19"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state19" toState="test_state20"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r032-test_state21">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state20"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state20" toState="test_state21"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r033-test_state22">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state21"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state21" toState="test_state22"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r033-test_state13">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state22"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state22" toState="test_state23"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r034-test_state24">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state23"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state23" toState="test_state24"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r035-test_state25">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state24"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state24" toState="test_state25"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r036-test_state26">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state25"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state25" toState="test_state26"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r037-test_state27">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state26"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state26" toState="test_state27"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r038-test_state28">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state27"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state27" toState="test_state28"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r039-test_state29">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state28"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state28" toState="test_state29"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r040-test_state30">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state29"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state29" toState="test_state30"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r041-test_state31">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state30"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state30" toState="test_state31"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r042-test_state32">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state31"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state31" toState="test_state32"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r043-test_state33">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state32"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state32" toState="test_state33"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r044-test_state34">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state33"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state33" toState="test_state12"/>
						<transition artifact="deliveryNote" fromState="test_state11" toState="test_state12"/> 
						<transition artifact="test_artifact1" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact2" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact3" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact4" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact5" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact6" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact7" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact8" fromState="test_state11" toState="test_state12"/>	 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r045-test_state34">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state25"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state25" toState="test_state34"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r046-test_state35">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state20"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
						</map>	
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state20" toState="test_state35"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r047-test_state36">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_state27"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state27" toState="test_state36"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r048-test_state37">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state10"/>
					<atom artifact = "order" type="state" value="test_state10"/>
					<atom artifact = "test_artifact1" type="state" value="test_state10"/>
					<atom artifact = "test_artifact2" type="state" value="test_state10"/>
					<atom artifact = "test_artifact3" type="state" value="test_state10"/>
					<atom artifact = "test_artifact4" type="state" value="test_state10"/>
					<atom artifact = "test_artifact5" type="state" value="test_state10"/>
					<atom artifact = "test_artifact6" type="state" value="test_state10"/>
					<atom artifact = "test_artifact7" type="state" value="test_state10"/>
					<atom artifact = "test_artifact8" type="state" value="test_state10"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					    <transition artifact="order" fromState="test_state10" toState="test_state37"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r049-test_state38">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "deliveryNote" type="state" value="prepared"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="prepared" toState="test_state38"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state5"/>
					<atom artifact = "order" type="state" value="test_state5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_state5" toState="test_state39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule>
		<!-- here -->
		<rule name="r02-addOrderItem:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="open_for_item"/>
					<atom attribute = "item" type="input" op = "!=" value="null"/>
					<atom attribute = "quantity" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do>
				<invoke operation="calculateGrandTotal" service="GrandTotalService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "addItemRequest"  part="item"/> 
								<to message = "calculateGrandTotalRequest" part = "Item"/>
							</copy>
							<copy>
								<from Message = "addItemRequest"  part="quantity"/> 
								<to message = "calculateGrandTotalRequest" part = "Quantity"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "calculateGrandTotalResponse" part = "item"/>
								<to artifact = "order" attribute ="orderItem"/> 							
							</copy>
							<copy>
								<from message = "calculateGrandTotalResponse" part = "quantity"/>
								<to artifact = "order" attribute ="quantity"/> 							
							</copy>
							<copy>
								<from message = "calculateGrandTotalResponse" part = "grandTotal"/>
								<to artifact = "order" attribute ="grand_total"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="open_for_item" toState="ready_for_payment2"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		
		<rule name="r04-confirmOrderItem:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="processing_order_item2"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="processing_order_item2" toState="order_item_completed"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r05-cancelOrder:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment2"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="ready_for_payment2" toState="cancelled"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r06-createPayment">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment2"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>
					<atom attribute = "total_price" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="start" toState="unpaid2"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r07-makePayment:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment2"/>
					<atom artifact = "invoice" type="state" value="unpaid2"/>
					<atom attribute = "invoice_id" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
						</map>	
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="unpaid2" toState="paid2"/> 
						<transition artifact="order" fromState="ready_for_payment" toState="payment_confirmed2"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r03-submitOrderItem:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "invoice" type="state" value="paid2"/>
					<atom artifact = "order" type="state" value="payment_confirmed2"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>
				</and>
			</preCon> 
			<do>
				<invoke operation="submitOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "confirmPaymentRequest"  part="orderId"/> 
								<to message = "submitOrderItemRequest" part = "OrderId"/>
							</copy>
						</map>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderItem"/> 
								<to message = "submitOrderItemRequest" part = "OrderItem"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "submitDate"/>
								<to artifact = "order" attribute ="order_item_submit_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="payment_confirmed2" toState="processing_order_item2" /> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r10-cancelPayment:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "invoice" type="state" value="unpaid2"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="invoice" fromState="unpaid2" toState="cancelled"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		
		<rule name="r012-test_state1:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="transfering"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="transfering" toState="test_statet1"/>
						<transition artifact="deliveryNote" fromState="transfering" toState="test_statet1"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r013-test_state2:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet1"/>
					<atom artifact = "order" type="state" value="test_statet1"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_state1" toState="test_statet2"/>
						<transition artifact="order" fromState="test_statet1" toState="test_statet2"/>
						<transition artifact="test_artifact1" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact2" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact3" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact4" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact5" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact6" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact7" fromState="test_state1" toState="test_state2"/>
						<transition artifact="test_artifact8" fromState="test_state1" toState="test_state2"/>
						 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r014-test_state3:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet2"/>
					<atom artifact = "order" type="state" value="test_statet2"/>
					<atom artifact = "test_artifact1" type="state" value="test_state2"/>
					<atom artifact = "test_artifact2" type="state" value="test_state2"/>
					<atom artifact = "test_artifact3" type="state" value="test_state2"/>
					<atom artifact = "test_artifact4" type="state" value="test_state2"/>
					<atom artifact = "test_artifact5" type="state" value="test_state2"/>
					<atom artifact = "test_artifact6" type="state" value="test_state2"/>
					<atom artifact = "test_artifact7" type="state" value="test_state2"/>
					<atom artifact = "test_artifact8" type="state" value="test_state2"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_state2" toState="test_statet3"/> 
						<transition artifact="order" fromState="test_statet2" toState="test_statet3"/> 
						<transition artifact="test_artifact1" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact2" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact3" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact4" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact5" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact6" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact7" fromState="test_state2" toState="test_state3"/>
						<transition artifact="test_artifact8" fromState="test_state2" toState="test_state3"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r015-test_state4:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet3"/>
					<atom artifact = "order" type="state" value="test_statet3"/>
					<atom artifact = "test_artifact1" type="state" value="test_state3"/>
					<atom artifact = "test_artifact2" type="state" value="test_state3"/>
					<atom artifact = "test_artifact3" type="state" value="test_state3"/>
					<atom artifact = "test_artifact4" type="state" value="test_state3"/>
					<atom artifact = "test_artifact5" type="state" value="test_state3"/>
					<atom artifact = "test_artifact6" type="state" value="test_state3"/>
					<atom artifact = "test_artifact7" type="state" value="test_state3"/>
					<atom artifact = "test_artifact8" type="state" value="test_state3"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="deliveryNote" fromState="test_statet3" toState="test_statet4"/> 
						<transition artifact="order" fromState="test_statet3" toState="test_statet4"/> 
						<transition artifact="test_artifact1" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact2" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact3" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact4" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact5" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact6" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact7" fromState="test_state3" toState="test_state4"/>
						<transition artifact="test_artifact8" fromState="test_state3" toState="test_state4"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r016-test_state5:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet4"/>
					<atom artifact = "order" type="state" value="test_statet4"/>
					<atom artifact = "test_artifact1" type="state" value="test_state4"/>
					<atom artifact = "test_artifact2" type="state" value="test_state4"/>
					<atom artifact = "test_artifact3" type="state" value="test_state4"/>
					<atom artifact = "test_artifact4" type="state" value="test_state4"/>
					<atom artifact = "test_artifact5" type="state" value="test_state4"/>
					<atom artifact = "test_artifact6" type="state" value="test_state4"/>
					<atom artifact = "test_artifact7" type="state" value="test_state4"/>
					<atom artifact = "test_artifact8" type="state" value="test_state4"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet4" toState="test_statet5"/>
						<transition artifact="deliveryNote" fromState="test_statet4" toState="test_statet5"/> 
						<transition artifact="test_artifact1" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact2" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact3" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact4" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact5" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact6" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact7" fromState="test_state4" toState="test_state5"/>
						<transition artifact="test_artifact8" fromState="test_state4" toState="test_state5"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r017-test_state6:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet6"/>
						<transition artifact="deliveryNote" fromState="test_statet5" toState="test_statet6"/> 
						<transition artifact="test_artifact1" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact2" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact3" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact4" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact5" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact6" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact7" fromState="test_state5" toState="test_state6"/>
						<transition artifact="test_artifact8" fromState="test_state5" toState="test_state6"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r018-test_state7:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet6"/>
					<atom artifact = "order" type="state" value="test_statet6"/>
					<atom artifact = "test_artifact1" type="state" value="test_state6"/>
					<atom artifact = "test_artifact2" type="state" value="test_state6"/>
					<atom artifact = "test_artifact3" type="state" value="test_state6"/>
					<atom artifact = "test_artifact4" type="state" value="test_state6"/>
					<atom artifact = "test_artifact5" type="state" value="test_state6"/>
					<atom artifact = "test_artifact6" type="state" value="test_state6"/>
					<atom artifact = "test_artifact7" type="state" value="test_state6"/>
					<atom artifact = "test_artifact8" type="state" value="test_state6"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet6" toState="test_statet7"/>
						<transition artifact="deliveryNote" fromState="test_statet6" toState="test_statet7"/> 
						<transition artifact="test_artifact1" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact2" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact3" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact4" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact5" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact6" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact7" fromState="test_state6" toState="test_state7"/>
						<transition artifact="test_artifact8" fromState="test_state6" toState="test_state7"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r019-test_state8:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet7"/>
					<atom artifact = "order" type="state" value="test_statet7"/>
					<atom artifact = "test_artifact1" type="state" value="test_state7"/>
					<atom artifact = "test_artifact2" type="state" value="test_state7"/>
					<atom artifact = "test_artifact3" type="state" value="test_state7"/>
					<atom artifact = "test_artifact4" type="state" value="test_state7"/>
					<atom artifact = "test_artifact5" type="state" value="test_state7"/>
					<atom artifact = "test_artifact6" type="state" value="test_state7"/>
					<atom artifact = "test_artifact7" type="state" value="test_state7"/>
					<atom artifact = "test_artifact8" type="state" value="test_state7"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
						
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet7" toState="test_statet8"/>
						<transition artifact="deliveryNote" fromState="test_statet7" toState="test_statet8"/> 
						<transition artifact="test_artifact1" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact2" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact3" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact4" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact5" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact6" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact7" fromState="test_state7" toState="test_state8"/>
						<transition artifact="test_artifact8" fromState="test_state7" toState="test_state8"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r020-test_state9:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet8"/>
					<atom artifact = "order" type="state" value="test_statet8"/>
					<atom artifact = "test_artifact1" type="state" value="test_state8"/>
					<atom artifact = "test_artifact2" type="state" value="test_state8"/>
					<atom artifact = "test_artifact3" type="state" value="test_state8"/>
					<atom artifact = "test_artifact4" type="state" value="test_state8"/>
					<atom artifact = "test_artifact5" type="state" value="test_state8"/>
					<atom artifact = "test_artifact6" type="state" value="test_state8"/>
					<atom artifact = "test_artifact7" type="state" value="test_state8"/>
					<atom artifact = "test_artifact8" type="state" value="test_state8"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet8" toState="test_statet9"/>
						<transition artifact="deliveryNote" fromState="test_statet8" toState="test_statet9"/> 
						<transition artifact="test_artifact1" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact2" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact3" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact4" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact5" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact6" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact7" fromState="test_state8" toState="test_state9"/>
						<transition artifact="test_artifact8" fromState="test_state8" toState="test_state9"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r021-test_state10:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet9"/>
					<atom artifact = "order" type="state" value="test_statet9"/>
					<atom artifact = "test_artifact1" type="state" value="test_state9"/>
					<atom artifact = "test_artifact2" type="state" value="test_state9"/>
					<atom artifact = "test_artifact3" type="state" value="test_state9"/>
					<atom artifact = "test_artifact4" type="state" value="test_state9"/>
					<atom artifact = "test_artifact5" type="state" value="test_state9"/>
					<atom artifact = "test_artifact6" type="state" value="test_state9"/>
					<atom artifact = "test_artifact7" type="state" value="test_state9"/>
					<atom artifact = "test_artifact8" type="state" value="test_state9"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					<transition artifact="order" fromState="test_statet9" toState="test_statet10"/>
						<transition artifact="deliveryNote" fromState="test_statet9" toState="test_statet10"/> 
						<transition artifact="test_artifact1" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact2" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact3" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact4" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact5" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact6" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact7" fromState="test_state9" toState="test_state10"/>
						<transition artifact="test_artifact8" fromState="test_state9" toState="test_state10"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r022-test_state11:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet10"/>
					<atom artifact = "order" type="state" value="test_statet10"/>
					<atom artifact = "test_artifact1" type="state" value="test_state10"/>
					<atom artifact = "test_artifact2" type="state" value="test_state10"/>
					<atom artifact = "test_artifact3" type="state" value="test_state10"/>
					<atom artifact = "test_artifact4" type="state" value="test_state10"/>
					<atom artifact = "test_artifact5" type="state" value="test_state10"/>
					<atom artifact = "test_artifact6" type="state" value="test_state10"/>
					<atom artifact = "test_artifact7" type="state" value="test_state10"/>
					<atom artifact = "test_artifact8" type="state" value="test_state10"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					    <transition artifact="order" fromState="test_statet10" toState="test_statet11"/> 
						<transition artifact="deliveryNote" fromState="test_statet10" toState="test_statet11"/> 
						<transition artifact="test_artifact1" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact2" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact3" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact4" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact5" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact6" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact7" fromState="test_state10" toState="test_state11"/>
						<transition artifact="test_artifact8" fromState="test_state10" toState="test_state11"/>
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r023-test_state12:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet11"/>
					<atom artifact = "order" type="state" value="test_statet11"/>
					<atom artifact = "test_artifact1" type="state" value="test_state11"/>
					<atom artifact = "test_artifact2" type="state" value="test_state11"/>
					<atom artifact = "test_artifact3" type="state" value="test_state11"/>
					<atom artifact = "test_artifact4" type="state" value="test_state11"/>
					<atom artifact = "test_artifact5" type="state" value="test_state11"/>
					<atom artifact = "test_artifact6" type="state" value="test_state11"/>
					<atom artifact = "test_artifact7" type="state" value="test_state11"/>
					<atom artifact = "test_artifact8" type="state" value="test_state11"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet11" toState="test_statet12"/>
						<transition artifact="deliveryNote" fromState="test_statet11" toState="test_statet12"/> 
						<transition artifact="test_artifact1" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact2" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact3" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact4" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact5" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact6" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact7" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact8" fromState="test_state11" toState="test_state12"/>					
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r024-test_state13:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "order" type="state" value="test_statet12"/>				
					<atom artifact = "deliveryNote" type="state" value="test_statet12"/>	
					<atom artifact = "test_artifact1" type="state" value="test_state12"/>
					<atom artifact = "test_artifact2" type="state" value="test_state12"/>
					<atom artifact = "test_artifact3" type="state" value="test_state12"/>
					<atom artifact = "test_artifact4" type="state" value="test_state12"/>
					<atom artifact = "test_artifact5" type="state" value="test_state12"/>
					<atom artifact = "test_artifact6" type="state" value="test_state12"/>
					<atom artifact = "test_artifact7" type="state" value="test_state12"/>
					<atom artifact = "test_artifact8" type="state" value="test_state12"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet12" toState="test_statet13"/> 
						<transition artifact="deliveryNote" fromState="test_statet12" toState="test_statet13"/> 
						<transition artifact="test_artifact1" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact2" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact3" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact4" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact5" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact6" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact7" fromState="test_state12" toState="test_state13"/>
						<transition artifact="test_artifact8" fromState="test_state12" toState="test_state13"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r025-test_state14:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet13"/>		
					<atom artifact = "order" type="state" value="test_statet13"/>
					<atom artifact = "test_artifact1" type="state" value="test_state13"/>
					<atom artifact = "test_artifact2" type="state" value="test_state13"/>
					<atom artifact = "test_artifact3" type="state" value="test_state13"/>
					<atom artifact = "test_artifact4" type="state" value="test_state13"/>
					<atom artifact = "test_artifact5" type="state" value="test_state13"/>
					<atom artifact = "test_artifact6" type="state" value="test_state13"/>
					<atom artifact = "test_artifact7" type="state" value="test_state13"/>
					<atom artifact = "test_artifact8" type="state" value="test_state13"/>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet13" toState="test_statet14"/>
						<transition artifact="deliveryNote" fromState="test_statet13" toState="test_statet14"/> 
						<transition artifact="test_artifact1" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact2" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact3" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact4" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact5" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact6" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact7" fromState="test_state13" toState="test_state14"/>
						<transition artifact="test_artifact8" fromState="test_state13" toState="test_state14"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r026-test_state15:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet14"/>
					<atom artifact = "order" type="state" value="test_statet14"/>
					<atom artifact = "test_artifact1" type="state" value="test_state14"/>
					<atom artifact = "test_artifact2" type="state" value="test_state14"/>
					<atom artifact = "test_artifact3" type="state" value="test_state14"/>
					<atom artifact = "test_artifact4" type="state" value="test_state14"/>
					<atom artifact = "test_artifact5" type="state" value="test_state14"/>
					<atom artifact = "test_artifact6" type="state" value="test_state14"/>
					<atom artifact = "test_artifact7" type="state" value="test_state14"/>
					<atom artifact = "test_artifact8" type="state" value="test_state14"/>	
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet14" toState="test_statet15"/> 
						<transition artifact="deliveryNote" fromState="test_statet14" toState="test_statet15"/> 
						<transition artifact="test_artifact1" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact2" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact3" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact4" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact5" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact6" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact7" fromState="test_state14" toState="test_state15"/>
						<transition artifact="test_artifact8" fromState="test_state14" toState="test_state15"/>	
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r027-test_state16:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet15"/>
					<atom artifact = "order" type="state" value="test_statett15"/>
					<atom artifact = "test_artifact1" type="state" value="test_state15"/>
					<atom artifact = "test_artifact2" type="state" value="test_state15"/>
					<atom artifact = "test_artifact3" type="state" value="test_state15"/>
					<atom artifact = "test_artifact4" type="state" value="test_state15"/>
					<atom artifact = "test_artifact5" type="state" value="test_state15"/>
					<atom artifact = "test_artifact6" type="state" value="test_state15"/>
					<atom artifact = "test_artifact7" type="state" value="test_state15"/>
					<atom artifact = "test_artifact8" type="state" value="test_state15"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet15" toState="test_statet16"/> 
						<transition artifact="deliveryNote" fromState="test_statet15" toState="test_statet16"/> 
						<transition artifact="test_artifact1" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact2" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact3" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact4" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact5" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact6" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact7" fromState="test_state15" toState="test_state16"/>
						<transition artifact="test_artifact8" fromState="test_state15" toState="test_state16"/>	
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r028-test_state17:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="ready_for_payment2"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="ready_for_payment2" toState="test_statet17"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r029-test_state18:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet17"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet17" toState="test_statet18"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r030-test_state19:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet18"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet18" toState="test_statet19"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r031-test_state20:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet19"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet19" toState="test_statet20"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r032-test_state21:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet20"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet20" toState="test_statet21"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r033-test_state22:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet21"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet21" toState="test_statet22"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r033-test_state13:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet22"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet22" toState="test_statet23"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r034-test_state24:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet23"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet23" toState="test_statet24"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r035-test_state25:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet24"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet24" toState="test_statet25"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r036-test_state26:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet25"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet25" toState="test_statet26"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r037-test_state27:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet26"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet26" toState="test_statet27"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r038-test_state28:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet27"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet27" toState="test_statet28"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r039-test_state29:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet28"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet28" toState="test_statet29"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r040-test_state30:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet29"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet29" toState="test_statet30"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r041-test_state31:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet30"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet30" toState="test_statet31"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r042-test_state32:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet31"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet31" toState="test_statet32"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r043-test_state33:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet32"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet32" toState="test_statet33"/> 
					</transitions>
				</invoke>
			</do>
		</rule>		
		<rule name="r044-test_state34:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet33"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet33" toState="test_statet12"/>
						<transition artifact="deliveryNote" fromState="test_state11" toState="test_statet12"/> 
						<transition artifact="test_artifact1" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact2" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact3" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact4" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact5" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact6" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact7" fromState="test_state11" toState="test_state12"/>
						<transition artifact="test_artifact8" fromState="test_state11" toState="test_state12"/>	 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r045-test_state34:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet25"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet25" toState="test_statet34"/> 
					</transitions>
				</invoke>
			</do>
		</rule>	
		<rule name="r046-test_state35:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet20"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
						</map>	
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet20" toState="test_statet35"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r047-test_state36:v2">
		<onEvent type="messageReceivedEvent"/>  
			<preCon>
				<and>
					<atom artifact = "order" type="state" value="test_statet27"/>
					<atom attribute = "order_id" type="input" op = "!=" value="null"/>			
				</and>
			</preCon> 
			<do> 
				<invoke operation="createOrder" service="creatOrderService" type="local">
					<mapping>
						<map type = "MessageToMessage"> 
							<copy>
								<from Message = "placeOrderRequest"  part="cust_name"/> 
								<to message = "createOrderRequest" part = "name"/>
							</copy>
							<copy>
								<from Message = "placeOrderRequest"  part="cust_address"/> 
								<to message = "createOrderRequest" part = "address"/>
							</copy>
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "createOrderResponse" part = "orderid"/>
								<to artifact = "order" attribute ="orderid"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "customer_name"/>
								<to artifact = "order" attribute ="customerName"/> 							
							</copy>
							<copy>
								<from message = "createOrderResponse" part = "address"/>
								<to artifact = "order" attribute ="customerAddress"/> 							
							</copy>
							
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet27" toState="test_statet36"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r048-test_state37:v2">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_state10"/>
					<atom artifact = "order" type="state" value="test_statet10"/>
					<atom artifact = "test_artifact1" type="state" value="test_state10"/>
					<atom artifact = "test_artifact2" type="state" value="test_state10"/>
					<atom artifact = "test_artifact3" type="state" value="test_state10"/>
					<atom artifact = "test_artifact4" type="state" value="test_state10"/>
					<atom artifact = "test_artifact5" type="state" value="test_state10"/>
					<atom artifact = "test_artifact6" type="state" value="test_state10"/>
					<atom artifact = "test_artifact7" type="state" value="test_state10"/>
					<atom artifact = "test_artifact8" type="state" value="test_state10"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
					    <transition artifact="order" fromState="test_statet10" toState="test_statet37"/> 
					</transitions>
				</invoke>
			</do>
		</rule>
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		<rule name="r050-test_state39">
		<onEvent type="artifactChangedEvent"/>  
			<preCon>
				<and>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>	
					<atom artifact = "deliveryNote" type="state" value="test_statet5"/>
					<atom artifact = "order" type="state" value="test_statet5"/>
					<atom artifact = "test_artifact1" type="state" value="test_state5"/>
					<atom artifact = "test_artifact2" type="state" value="test_state5"/>
					<atom artifact = "test_artifact3" type="state" value="test_state5"/>
					<atom artifact = "test_artifact4" type="state" value="test_state5"/>
					<atom artifact = "test_artifact5" type="state" value="test_state5"/>
					<atom artifact = "test_artifact6" type="state" value="test_state5"/>
					<atom artifact = "test_artifact7" type="state" value="test_state5"/>
					<atom artifact = "test_artifact8" type="state" value="test_state5"/>
					<atom attribute = "invoiceId" type="input" op = "!=" value="null"/>		
				</and>
			</preCon> 
			<do>
				<invoke operation="confirmOrderItem" service="ManufacturingService" type="external">
					<mapping>
						<map type = "ArtifactToMessage"> 
							<copy>
								<from artifact = "order"  attribute ="orderId"/> 
								<to message = "confirmOrderItemRequest" part = "OrderId"/>
							</copy>
						
						</map>
						<map type = "MessageToArtifact"> 
							<copy>
								<from message = "submitOrderItemResponse" part = "completeDate"/>
								<to artifact = "order" attribute ="order_item_complete_date"/> 							
							</copy>
						</map>
						
					</mapping>
					<transitions>
						<transition artifact="order" fromState="test_statet5" toState="test_statet39"/>
					
					</transitions>
				</invoke>
			</do>
		</rule> 
		
	</businessRules>
</process>